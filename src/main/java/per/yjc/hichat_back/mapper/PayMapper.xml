<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.all.models.announcementAndPay.mapper.PayMapper">
    <select id="getList" resultType="com.all.models.announcementAndPay.pojo.Bill">
        select
        user_id as 'userId',
        create_time as 'createTime',
        bill_id as 'billId',
        money as 'money'
        from tb_bill
        where user_id = #{userId}
    </select>

    <select id="getBillList" resultType="com.all.models.announcementAndPay.pojo.Bill">
        select
        user_id as 'userId',
        create_time as 'createTime',
        bill_id as 'billId',
        money as 'money'
        from tb_bill
    </select>

    <insert id="insert">
        insert into tb_bill(bill_id,user_id,create_time,money) values (#{bill.billId},#{bill.userId},#{bill.createTime},#{bill.money})
    </insert>

    <select id="getUserById" resultType="com.all.models.announcementAndPay.entity.TbUser">
        select
        user_id as 'userId',
        picture as 'picture',
        account as 'account',
        password as 'password',
        user_status as 'userStatus',
        pet_name as 'petName',
        mailbox as 'mailbox',
        target_colleges as 'targetColleges',
        all_weath as 'allWeath',
        mail_verification as 'mailVerification'
        from tb_user where user_id = #{id}
    </select>

    <update id="charge">
        update tb_user set all_weath = all_weath+#{value} where user_id = #{id}
    </update>

    <insert id="addWealth">
        INSERT INTO tb_weath (user_id, matter_id, chang_value, operating_time)
        VALUES (#{user_id}, #{matter_id}, #{chang_value}, #{operating_time})
    </insert>


</mapper>